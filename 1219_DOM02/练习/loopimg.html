<!DOCTYPE html>
<html lang="zh">

	<head>
		<meta charset="UTF-8">
		<title>轮播图</title>
		<style type="text/css" media="screen">
			body {
				text-align: center;
				padding-top: 100px;
			}
			
			#show {
				width: 300px;
				height: 300px;
				position: relative;
				overflow: hidden;
				margin: 0 auto;
			}
			
			#wrap {
				width: 1200px;
				position: absolute;
				left: 0px;
				font-size: 0;
				transition: 0.8s;
			}
			
			#wrap div {
				width: 300px;
				height: 300px;
				background: #999;
				display: inline-block;
				font-size: 40px;
				line-height: 300px;
			}
		</style>
	</head>

	<body>
		<button id="lastBtn">上一个</button>
		<button id="nextBtn">下一个</button>
		<br>
		<input type="button" value="1">
		<input type="button" value="2">
		<input type="button" value="3">
		<input type="button" value="4">

		<div id="show">
			<div id="wrap">
				<div>box1</div>
				<div>box2</div>
				<div>box3</div>
				<div>box4</div>
			</div>
		</div>

		<script type="text/javascript">
			// 获取元素
			var last = document.querySelector('#lastBtn'); // 上一个
			var next = document.querySelector('#nextBtn'); // 下一个

			var btns = document.querySelectorAll('input');
			var wrap = document.getElementById('wrap');

			var index = 0; // 表示当前展示的是第几张图片
			var timer; // 轮播计时器

			function nextFn() {
				// 下标累加
				index++;
				// 最后一张，让index回到初始值
				if(index == 4) {
					index = 0;
				}
				wrap.style.left = -index * 300 + 'px';
			}

			// 自动轮播
			function autoLoop() {
				timer = setInterval(function() {
					nextFn();
				}, 3000);
			}
			autoLoop();

			// 上一个按钮的点击事件
			last.onclick = function() { // index 3
				// 清除timer
				clearInterval(timer);
				// debugger
				// 减到第一张 下一次从第四张开始减
				index--; // left变小
				if(index == -1) {
					index = 3;
				}
				wrap.style.left = -index * 300 + 'px';
				autoLoop();
			}

			// 为下一个按钮绑定点击事件
			next.onclick = function() {
				nextFn();
			}

			// 循环绑定点击事件
			for(var i = 0; i < btns.length; i++) {
				btns[i].onclick = function() {
					clearInterval(timer);
					// 根据value值获取当前的index
					index = this.value - 1;
					wrap.style.left = -index * 300 + 'px';
					autoLoop();
				}
			}

			// 鼠标移入停止轮播
			wrap.onmouseover = function() {
				clearInterval(timer);
			}

			// 鼠标移出继续轮播
			wrap.onmouseout = autoLoop;
		</script>
	</body>

</html>

<!--  -->